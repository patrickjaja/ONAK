{"version":3,"sources":["SQL/class.mysql-compiled.js"],"names":[],"mappings":"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","file":"SQL/class.mysql-compiled.js","sourcesContent":["/**\r\n * Created by root on 30.08.2015.\r\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _mysql = require('mysql');\n\nvar _mysql2 = _interopRequireDefault(_mysql);\n\nvar _LOGClassLoggingJs = require('../LOG/class.logging.js');\n\nvar _LOGClassLoggingJs2 = _interopRequireDefault(_LOGClassLoggingJs);\n\nvar _EXCEPTIONSClassSqlExceptionJs = require('../EXCEPTIONS/class.sqlException.js');\n\nvar _EXCEPTIONSClassSqlExceptionJs2 = _interopRequireDefault(_EXCEPTIONSClassSqlExceptionJs);\n\nvar MYSQL = (function () {\n    function MYSQL() {\n        var host = arguments.length <= 0 || arguments[0] === undefined ? \"localhost\" : arguments[0];\n        var dbname = arguments.length <= 1 || arguments[1] === undefined ? \"\" : arguments[1];\n        var user = arguments.length <= 2 || arguments[2] === undefined ? \"root\" : arguments[2];\n        var password = arguments.length <= 3 || arguments[3] === undefined ? \"\" : arguments[3];\n\n        _classCallCheck(this, MYSQL);\n\n        this.dbname = dbname;\n        this.host = host;\n        this.user = user;\n        this.password = password;\n        this.connectionLimit = 10;\n        this.connect();\n    }\n\n    _createClass(MYSQL, [{\n        key: 'connect',\n        value: function connect() {\n            this.pool = _mysql2['default'].createPool({\n                connectionLimit: this.connectionLimit,\n                host: this.host,\n                user: this.user,\n                password: this.password,\n                database: this.dbname\n            });\n\n            this._bindEvents();\n\n            this._applyPoolConfig();\n\n            this.pool.getConnection(function (err, connection) {\n                if (err) {\n                    new _EXCEPTIONSClassSqlExceptionJs2['default'](err);\n                }\n                this.connection = connection;\n            });\n        }\n    }, {\n        key: '_bindEvents',\n        value: function _bindEvents() {\n            this.pool.on('connection', function (connection) {\n                _LOGClassLoggingJs2['default'].log(\"Database connected\");\n            });\n            this.pool.on('enqueue', function () {\n                _LOGClassLoggingJs2['default'].log('Waiting for available connection slot');\n            });\n        }\n    }, {\n        key: '_applyPoolConfig',\n        value: function _applyPoolConfig() {\n            this.pool.config.queryFormat = function (query, values) {\n                if (!values) return query;\n                return query.replace(/\\:(\\w+)/g, (function (txt, key) {\n                    if (values.hasOwnProperty(key)) {\n                        return this.escape(values[key]);\n                    }\n                    return txt;\n                }).bind(this));\n            };\n        }\n    }, {\n        key: 'prepSQL',\n        value: function prepSQL(query) {\n            //2bd\n        }\n    }, {\n        key: 'sendSQL',\n        value: function sendSQL() {\n            var query = arguments.length <= 0 || arguments[0] === undefined ? \"SELECT * FROM table\" : arguments[0];\n            var values = arguments.length <= 1 || arguments[1] === undefined ? { param: \"val\" } : arguments[1];\n\n            this.connection.query(query, values, function (err, result) {\n                if (err) {\n                    new _EXCEPTIONSClassSqlExceptionJs2['default'](err);\n                }\n                _LOGClassLoggingJs2['default'].log(\"GOGO\", result);\n            });\n            //this.connection.query(\"SELECT * FROM `users` WHERE username = :title\", { title: \"test1\" }, function(err, result) {\n            //    if (err) throw err;\n            //    console.log(\"GOGO\",result);\n            //});\n            this.connection.release();\n        }\n    }]);\n\n    return MYSQL;\n})();\n\nexports.MYSQL = MYSQL;\n\n//# sourceMappingURL=class.mysql-compiled.js.map"],"sourceRoot":"C:\\Users\\root\\Projekte\\node-es6-demo\\es6"}